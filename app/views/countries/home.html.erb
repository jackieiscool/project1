 <h1>WELCOME HOME</h1>
  
   <div id="map-canvas"></div>

     <div class="box1">  
     <form action="/countries" method="post">
        <input type="text" name="place" placeholder="Enter Location">
        <input type="submit" value="Submit">
    </form>
    </div>
    
    <div class="box2">
     <h3>Wish list</h3>
     
    </div>

    <div class="box-list2" >
      <h3>Been there</h3>
      <% if @countries.blank? %>
        <p>No countries to display</p>

     <% else %>
     <ul>
     <% @countries.each do |c| %>
    <li> <%= c.title %> <%= link_to "ELIMINATE", c, method: :delete,:class => "btn btn-sm btn-danger", data:{confirm: "Are you sure it's time to ELIMINATE.." }  %></li><br>
    <% end %>
</ul>
<% end %>
    </div>

    <p><%=@results%></p>

    <script>

      $(function(){
        // console.log((gon.countries).length);


var japan = new google.maps.LatLng(gon.lat, gon.lon);
var marker;
var map;


function initialize() {
  var mapOptions = {
    zoom: 2,
    center: japan
  };

  map = new google.maps.Map(document.getElementById('map-canvas'),
          mapOptions);

for(var i = 0; i < (gon.countries).length; i++){
  var loc = new google.maps.LatLng(gon.countries[i].latitude, gon.countries[i].longitude );
  var marker = new google.maps.Marker({
    map:map,
    draggable:false,
    animation: google.maps.Animation.DROP,
    position: loc
  });
}

  google.maps.event.addListener(marker, 'click', toggleBounce);
}

function toggleBounce() {

  if (marker.getAnimation() != null) {
    marker.setAnimation(null);
  } else {
    marker.setAnimation(google.maps.Animation.BOUNCE);
  }
}



google.maps.event.addDomListener(window, 'load', initialize);
});
   
    </script>



